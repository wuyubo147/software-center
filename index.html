<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>软件下载中心</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            primary: '#165DFF',
            secondary: '#36D399',
            accent: '#7C3AED',
            neutral: '#1E293B',
            'neutral-content': '#F8FAFC',
            'base-100': '#FFFFFF',
            'base-200': '#F1F5F9',
            'base-300': '#E2E8F0',
          },
          fontFamily: {
            inter: ['Inter', 'system-ui', 'sans-serif'],
          },
          boxShadow: {
            'elevation-1': '0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24)',
            'elevation-2': '0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)',
            'elevation-3': '0 10px 20px rgba(0,0,0,0.19), 0 6px 6px rgba(0,0,0,0.23)',
          }
        },
      }
    }
  </script>
  <style type="text/tailwindcss">
    @layer utilities {
      .content-auto {
        content-visibility: auto;
      }
      .transition-transform-opacity {
        transition-property: transform, opacity;
      }
      .scale-hover {
        @apply hover:scale-105 transition-all duration-300;
      }
      .card-hover {
        @apply hover:shadow-elevation-3 transition-all duration-300 hover:-translate-y-1;
      }
      .btn-primary {
        @apply bg-primary hover:bg-primary/90 text-white font-medium py-3 px-6 rounded-lg shadow-elevation-1 transition-all duration-300 flex items-center justify-center gap-2;
      }
      .btn-secondary {
        @apply bg-white border border-primary text-primary hover:bg-primary/5 font-medium py-3 px-6 rounded-lg shadow-sm transition-all duration-300 flex items-center justify-center gap-2;
      }
      .btn-disabled {
        @apply bg-base-200 text-gray-500 cursor-not-allowed py-3 px-6 rounded-lg transition-all duration-300 flex items-center justify-center gap-2;
      }
    }
  </style>
</head>
<body class="font-inter bg-base-100 text-neutral min-h-screen flex flex-col">
  <!-- 导航栏 -->
  <header class="sticky top-0 z-50 bg-white/90 backdrop-blur-sm border-b border-base-300 shadow-sm transition-all duration-300">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-4">
        <div class="flex items-center gap-2">
          <i class="fa fa-download text-primary text-2xl"></i>
          <h1 class="text-xl font-bold text-neutral">软件下载中心</h1>
        </div>
        <nav class="hidden md:flex items-center space-x-8">
          <a href="#python" class="text-neutral hover:text-primary transition-colors duration-200 font-medium">Python下载</a>
          <a href="#mysoftware" class="text-neutral hover:text-primary transition-colors duration-200 font-medium">我的程序</a>
          <a href="#upload" class="text-neutral hover:text-primary transition-colors duration-200 font-medium">程序上传</a>
        </nav>
        <button class="md:hidden text-neutral focus:outline-none" id="mobile-menu-button">
          <i class="fa fa-bars text-xl"></i>
        </button>
      </div>
    </div>
    <!-- 移动端菜单 -->
    <div class="md:hidden hidden bg-white border-t border-base-300 shadow-md" id="mobile-menu">
      <div class="container mx-auto px-4 py-3 space-y-3">
        <a href="#python" class="block py-2 text-neutral hover:text-primary transition-colors duration-200">Python下载</a>
        <a href="#mysoftware" class="block py-2 text-neutral hover:text-primary transition-colors duration-200">我的程序</a>
        <a href="#upload" class="block py-2 text-neutral hover:text-primary transition-colors duration-200">程序上传</a>
      </div>
    </div>
  </header>

  <main class="flex-grow">
    <!-- 英雄区域 -->
    <section class="bg-gradient-to-br from-primary/5 to-base-200 py-16 md:py-24">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="max-w-3xl mx-auto text-center">
          <h2 class="text-[clamp(2rem,5vw,3.5rem)] font-bold text-neutral leading-tight mb-6">
            软件下载与管理中心
          </h2>
          <p class="text-lg md:text-xl text-neutral/80 mb-8">
            快速获取所需软件，安全上传您的程序
          </p>
          <div class="flex flex-col sm:flex-row gap-4 justify-center">
            <a href="#python" class="btn-primary scale-hover">
              <i class="fa fa-download"></i>
              <span>下载Python</span>
            </a>
            <a href="#mysoftware" class="btn-secondary scale-hover">
              <i class="fa fa-cubes"></i>
              <span>我的程序</span>
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- Python下载区域 -->
    <section id="python" class="py-16 bg-white">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-neutral mb-4">下载Python</h2>
          <p class="text-lg text-neutral/70 max-w-2xl mx-auto">获取最新版本的Python编程语言，开启编程之旅</p>
        </div>

        <div class="max-w-3xl mx-auto bg-base-200 rounded-2xl shadow-elevation-1 overflow-hidden card-hover">
          <div class="p-6 md:p-8">
            <div class="flex flex-col md:flex-row gap-6 items-center">
              <div class="w-24 h-24 md:w-32 md:h-32 bg-primary/10 rounded-xl flex items-center justify-center">
                <i class="fa fa-code text-primary text-4xl md:text-5xl"></i>
              </div>
              <div class="flex-grow">
                <h3 class="text-xl md:text-2xl font-bold text-neutral mb-2">Python 最新版本</h3>
                <p class="text-neutral/70 mb-4">Python是一种广泛使用的高级编程语言，适用于开发各种类型的应用程序。</p>
                <div class="flex flex-wrap gap-3">
                  <span class="bg-primary/10 text-primary px-3 py-1 rounded-full text-sm font-medium">跨平台</span>
                  <span class="bg-secondary/10 text-secondary px-3 py-1 rounded-full text-sm font-medium">开源</span>
                  <span class="bg-accent/10 text-accent px-3 py-1 rounded-full text-sm font-medium">易学</span>
                </div>
              </div>
            </div>
            <div class="mt-8">
              <button id="download-python" class="btn-primary w-full scale-hover">
                <i class="fa fa-download"></i>
                <span>下载Python最新版本</span>
              </button>
              <p class="text-sm text-neutral/60 mt-3 text-center">点击按钮将下载Python最新版本安装程序</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 我的程序区域 -->
    <section id="mysoftware" class="py-16 bg-base-200">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-neutral mb-4">我的程序</h2>
          <p class="text-lg text-neutral/70 max-w-2xl mx-auto">下载我开发的实用工具程序</p>
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 max-w-4xl mx-auto">
          <!-- Python打包工具 -->
          <div class="bg-white rounded-2xl shadow-elevation-1 overflow-hidden card-hover">
            <div class="p-6">
              <div class="flex items-center gap-4 mb-4">
                <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center">
                  <i class="fa fa-cube text-primary text-xl"></i>
                </div>
                <div>
                  <h3 class="text-xl font-bold text-neutral">Python打包工具</h3>
                  <p class="text-neutral/70 text-sm">将Python脚本转换为可执行文件</p>
                </div>
              </div>
              <p class="text-neutral/70 mb-6">一个方便的工具，可以将您的Python脚本打包成独立的可执行文件，无需安装Python环境即可运行。</p>
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <i class="fa fa-file-excel-o text-primary"></i>
                  <span class="text-sm text-neutral/60">python_packager.exe</span>
                </div>
                <button class="btn-primary py-2 px-4 scale-hover" data-file="python_packager.exe" data-url="/api/download/python_packager.exe">
                  <i class="fa fa-download"></i>
                  <span>下载</span>
                </button>
              </div>
            </div>
          </div>

          <!-- 软件杀手 -->
          <div class="bg-white rounded-2xl shadow-elevation-1 overflow-hidden card-hover">
            <div class="p-6">
              <div class="flex items-center gap-4 mb-4">
                <div class="w-12 h-12 bg-accent/10 rounded-lg flex items-center justify-center">
                  <i class="fa fa-bomb text-accent text-xl"></i>
                </div>
                <div>
                  <h3 class="text-xl font-bold text-neutral">软件杀手</h3>
                  <p class="text-neutral/70 text-sm">强制关闭顽固程序</p>
                </div>
              </div>
              <p class="text-neutral/70 mb-6">当常规方法无法关闭程序时，这个工具可以强制终止任何运行中的应用程序，释放系统资源。</p>
              <div class="flex items-center justify-between">
                <div class="flex items-center gap-2">
                  <i class="fa fa-file-excel-o text-accent"></i>
                  <span class="text-sm text-neutral/60">software_killer.exe</span>
                </div>
                <button class="btn-primary py-2 px-4 scale-hover" data-file="software_killer.exe" data-url="/api/download/software_killer.exe">
                  <i class="fa fa-download"></i>
                  <span>下载</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 程序上传区域 -->
    <section id="upload" class="py-16 bg-white">
      <div class="container mx-auto px-4 sm:px-6 lg:px-8">
        <div class="text-center mb-12">
          <h2 class="text-3xl font-bold text-neutral mb-4">程序上传</h2>
          <p class="text-lg text-neutral/70 max-w-2xl mx-auto">上传程序供审核，审核通过后将发布到下载区</p>
        </div>

        <div class="max-w-3xl mx-auto">
          <div class="bg-base-200 rounded-2xl shadow-elevation-1 p-6 md:p-8">
            <div class="text-center mb-6">
              <div class="inline-flex items-center justify-center w-16 h-16 bg-primary/10 rounded-full mb-4">
                <i class="fa fa-cloud-upload text-primary text-2xl"></i>
              </div>
              <h3 class="text-xl font-bold text-neutral mb-2">上传新程序</h3>
              <p class="text-neutral/70">拖放文件到下方区域或点击选择文件</p>
            </div>

            <!-- 文件上传区域 -->
            <div id="drop-area" class="border-2 border-dashed border-primary/30 rounded-xl p-8 text-center transition-all duration-300 hover:border-primary/60 bg-white">
              <i class="fa fa-file-o text-primary/50 text-4xl mb-4"></i>
              <p class="text-neutral/60 mb-4">拖放文件到这里，或</p>
              <label class="btn-primary inline-flex scale-hover">
                <i class="fa fa-folder-open"></i>
                <span>选择文件</span>
                <input type="file" id="file-input" class="hidden">
              </label>
              <p class="text-xs text-neutral/50 mt-4">支持的文件类型: .exe, .zip, .rar</p>
            </div>

            <!-- 文件信息区域 -->
            <div id="file-info" class="mt-6 hidden">
              <div class="bg-white rounded-lg p-4 border border-base-300">
                <div class="flex items-center gap-3">
                  <div class="w-12 h-12 bg-primary/10 rounded flex items-center justify-center">
                    <i class="fa fa-file-excel-o text-primary"></i>
                  </div>
                  <div class="flex-grow">
                    <h4 id="file-name" class="font-medium text-neutral truncate"></h4>
                    <p id="file-size" class="text-sm text-neutral/60"></p>
                  </div>
                  <button id="remove-file" class="text-red-500 hover:text-red-600 transition-colors">
                    <i class="fa fa-times"></i>
                  </button>
                </div>
              </div>
            </div>

            <!-- 表单区域 -->
            <div class="mt-6 space-y-4">
              <div>
                <label for="program-name" class="block text-sm font-medium text-neutral mb-1">程序名称</label>
                <input type="text" id="program-name" class="w-full px-4 py-2 border border-base-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" placeholder="输入程序名称">
              </div>
              <div>
                <label for="program-desc" class="block text-sm font-medium text-neutral mb-1">程序描述</label>
                <textarea id="program-desc" rows="3" class="w-full px-4 py-2 border border-base-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" placeholder="简要描述程序功能"></textarea>
              </div>
              <div>
                <label class="block text-sm font-medium text-neutral mb-1">上传者信息</label>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                  <div>
                    <input type="text" id="uploader-name" class="w-full px-4 py-2 border border-base-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" placeholder="您的姓名">
                  </div>
                  <div>
                    <input type="email" id="uploader-email" class="w-full px-4 py-2 border border-base-300 rounded-lg focus:ring-2 focus:ring-primary/50 focus:border-primary transition-all" placeholder="您的邮箱">
                  </div>
                </div>
              </div>
              <div class="flex items-start mt-6">
                <input type="checkbox" id="terms" class="mt-1 mr-2">
                <label for="terms" class="text-sm text-neutral/70">我同意上传的程序将经过审核，审核通过后才能发布</label>
              </div>
              <button id="submit-upload" class="btn-disabled w-full">
                <i class="fa fa-paper-plane"></i>
                <span>提交审核</span>
              </button>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- 状态通知 -->
    <div id="notification" class="fixed bottom-4 right-4 bg-white rounded-lg shadow-elevation-2 p-4 transform translate-y-20 opacity-0 transition-all duration-300 flex items-center gap-3 max-w-sm">
      <div id="notification-icon" class="w-8 h-8 rounded-full flex items-center justify-center bg-primary/10">
        <i class="fa fa-info text-primary"></i>
      </div>
      <div class="flex-grow">
        <h4 id="notification-title" class="font-medium text-neutral"></h4>
        <p id="notification-message" class="text-sm text-neutral/70"></p>
      </div>
      <button id="close-notification" class="text-neutral/50 hover:text-neutral">
        <i class="fa fa-times"></i>
      </button>
    </div>
  </main>

  <!-- 页脚 -->
  <footer class="bg-neutral text-white py-10">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div>
          <div class="flex items-center gap-2 mb-4">
            <i class="fa fa-download text-primary text-2xl"></i>
            <h3 class="text-xl font-bold">软件下载中心</h3>
          </div>
          <p class="text-gray-400 mb-4">提供高质量的软件下载和管理服务，安全、便捷、高效。</p>
          <div class="flex space-x-4">
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-github text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-twitter text-xl"></i>
            </a>
            <a href="#" class="text-gray-400 hover:text-white transition-colors">
              <i class="fa fa-linkedin text-xl"></i>
            </a>
          </div>
        </div>
        <div>
          <h4 class="text-lg font-medium mb-4">快速链接</h4>
          <ul class="space-y-2">
            <li><a href="#python" class="text-gray-400 hover:text-white transition-colors">Python下载</a></li>
            <li><a href="#mysoftware" class="text-gray-400 hover:text-white transition-colors">我的程序</a></li>
            <li><a href="#upload" class="text-gray-400 hover:text-white transition-colors">程序上传</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">隐私政策</a></li>
            <li><a href="#" class="text-gray-400 hover:text-white transition-colors">使用条款</a></li>
          </ul>
        </div>
        <div>
          <h4 class="text-lg font-medium mb-4">联系我们</h4>
          <ul class="space-y-2">
            <li class="flex items-center gap-2">
              <i class="fa fa-envelope-o text-primary"></i>
              <a href="mailto:contact@example.com" class="text-gray-400 hover:text-white transition-colors">contact@example.com</a>
            </li>
            <li class="flex items-center gap-2">
              <i class="fa fa-phone text-primary"></i>
              <span class="text-gray-400">+86 123 4567 8901</span>
            </li>
            <li class="flex items-center gap-2">
              <i class="fa fa-map-marker text-primary"></i>
              <span class="text-gray-400">北京市朝阳区科技园</span>
            </li>
          </ul>
        </div>
      </div>
      <div class="border-t border-gray-700 mt-8 pt-8 text-center text-gray-500">
        <p>&copy; 2025 软件下载中心. 保留所有权利.</p>
      </div>
    </div>
  </footer>

  <script>
    // 移动端菜单切换
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    
    mobileMenuButton.addEventListener('click', () => {
      mobileMenu.classList.toggle('hidden');
    });

    // 平滑滚动
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', function (e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
          window.scrollTo({
            top: targetElement.offsetTop - 80,
            behavior: 'smooth'
          });
          
          // 关闭移动端菜单
          if (!mobileMenu.classList.contains('hidden')) {
            mobileMenu.classList.add('hidden');
          }
        }
      });
    });

    // 导航栏滚动效果
    const header = document.querySelector('header');
    let lastScrollTop = 0;
    
    window.addEventListener('scroll', () => {
      const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
      
      if (scrollTop > 100) {
        header.classList.add('shadow-md');
        header.classList.remove('border-b');
      } else {
        header.classList.remove('shadow-md');
        header.classList.add('border-b');
      }
      
      lastScrollTop = scrollTop;
    });

    // Python下载按钮
    const downloadPythonBtn = document.getElementById('download-python');
    downloadPythonBtn.addEventListener('click', () => {
      showNotification('信息', '即将跳转到Python官方下载页面', 'info');
      
      setTimeout(() => {
        window.open('https://www.python.org/downloads/', '_blank');
      }, 1500);
    });

    // 我的程序下载按钮
    document.querySelectorAll('[data-file]').forEach(button => {
      button.addEventListener('click', () => {
        const fileName = button.getAttribute('data-file');
        const fileUrl = button.getAttribute('data-url');
        
        if (!fileUrl) {
          showNotification('错误', '下载链接未配置，请联系管理员', 'error');
          return;
        }
        
        showNotification('信息', `准备下载 ${fileName}...`, 'info');
        
        // 创建临时链接并触发下载
        const link = document.createElement('a');
        link.href = fileUrl;
        link.download = fileName;
        document.body.appendChild(link);
        
        // 模拟文件下载过程
        setTimeout(() => {
          link.click();
          document.body.removeChild(link);
          showNotification('成功', `${fileName} 下载已开始`, 'success');
        }, 1000);
      });
    });

    // 文件上传功能
    const dropArea = document.getElementById('drop-area');
    const fileInput = document.getElementById('file-input');
    const fileInfo = document.getElementById('file-info');
    const fileName = document.getElementById('file-name');
    const fileSize = document.getElementById('file-size');
    const removeFile = document.getElementById('remove-file');
    const submitUpload = document.getElementById('submit-upload');
    const programName = document.getElementById('program-name');
    const programDesc = document.getElementById('program-desc');
    const uploaderName = document.getElementById('uploader-name');
    const uploaderEmail = document.getElementById('uploader-email');
    const terms = document.getElementById('terms');

    // 拖放相关事件
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      dropArea.addEventListener(eventName, preventDefaults, false);
    });
    
    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }
    
    ['dragenter', 'dragover'].forEach(eventName => {
      dropArea.addEventListener(eventName, highlight, false);
    });
    
    ['dragleave', 'drop'].forEach(eventName => {
      dropArea.addEventListener(eventName, unhighlight, false);
    });
    
    function highlight() {
      dropArea.classList.add('border-primary', 'bg-primary/5');
      dropArea.classList.remove('border-primary/30');
    }
    
    function unhighlight() {
      dropArea.classList.remove('border-primary', 'bg-primary/5');
      dropArea.classList.add('border-primary/30');
    }
    
    dropArea.addEventListener('drop', handleDrop, false);
    
    function handleDrop(e) {
      const dt = e.dataTransfer;
      const files = dt.files;
      
      if (files.length > 0) {
        handleFiles(files[0]);
      }
    }
    
    // 文件选择
    fileInput.addEventListener('change', () => {
      if (fileInput.files.length > 0) {
        handleFiles(fileInput.files[0]);
      }
    });
    
    // 处理文件
    function handleFiles(file) {
      // 检查文件类型
      const allowedTypes = ['application/x-msdownload', 'application/zip', 'application/x-rar-compressed'];
      if (!allowedTypes.includes(file.type) && 
          !file.name.endsWith('.exe') && 
          !file.name.endsWith('.zip') && 
          !file.name.endsWith('.rar')) {
        showNotification('错误', '不支持的文件类型，请上传 .exe, .zip 或 .rar 文件', 'error');
        return;
      }
      
      // 显示文件信息
      fileName.textContent = file.name;
      fileSize.textContent = formatFileSize(file.size);
      fileInfo.classList.remove('hidden');
      
      // 更新提交按钮状态
      updateSubmitButton();
    }
    
    // 移除文件
    removeFile.addEventListener('click', () => {
      fileInfo.classList.add('hidden');
      fileInput.value = '';
      updateSubmitButton();
    });
    
    // 格式化文件大小
    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      
      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }
    
    // 表单输入事件监听
    [programName, programDesc, uploaderName, uploaderEmail, terms].forEach(element => {
      element.addEventListener('input', updateSubmitButton);
      element.addEventListener('change', updateSubmitButton);
    });
    
    // 更新提交按钮状态
    function updateSubmitButton() {
      const isFileSelected = !fileInfo.classList.contains('hidden');
      const isProgramNameFilled = programName.value.trim() !== '';
      const isProgramDescFilled = programDesc.value.trim() !== '';
      const isUploaderNameFilled = uploaderName.value.trim() !== '';
      const isUploaderEmailFilled = uploaderEmail.value.trim() !== '';
      const isEmailValid = /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(uploaderEmail.value);
      const isTermsAccepted = terms.checked;
      
      if (isFileSelected && 
          isProgramNameFilled && 
          isProgramDescFilled && 
          isUploaderNameFilled && 
          isUploaderEmailFilled && 
          isEmailValid && 
          isTermsAccepted) {
        submitUpload.classList.remove('btn-disabled');
        submitUpload.classList.add('btn-primary');
        submitUpload.disabled = false;
      } else {
        submitUpload.classList.add('btn-disabled');
        submitUpload.classList.remove('btn-primary');
        submitUpload.disabled = true;
      }
    }
    
    // 提交上传
    submitUpload.addEventListener('click', () => {
      if (!fileInput.files.length) {
        showNotification('错误', '请选择要上传的文件', 'error');
        return;
      }
      
      const file = fileInput.files[0];
      const formData = new FormData();
      
      formData.append('file', file);
      formData.append('programName', programName.value);
      formData.append('programDesc', programDesc.value);
      formData.append('uploaderName', uploaderName.value);
      formData.append('uploaderEmail', uploaderEmail.value);
      
      showNotification('信息', '正在上传程序...', 'info');
      
      // 发送请求到后端API
      fetch('http://localhost:5000/api/upload', {
        method: 'POST',
        body: formData
      })
      .then(response => {
        if (!response.ok) {
          throw new Error('上传失败，服务器返回错误');
        }
        return response.json();
      })
      .then(data => {
        if (data.message) {
          showNotification('成功', data.message, 'success');
          
          // 重置表单
          fileInfo.classList.add('hidden');
          fileInput.value = '';
          programName.value = '';
          programDesc.value = '';
          uploaderName.value = '';
          uploaderEmail.value = '';
          terms.checked = false;
          
          updateSubmitButton();
        } else {
          showNotification('错误', data.error || '上传失败，请重试', 'error');
        }
      })
      .catch(error => {
        showNotification('错误', '上传过程中发生错误: ' + error.message, 'error');
        console.error('Error:', error);
      });
    });
    
    // 通知功能
    function showNotification(title, message, type = 'info') {
      const notification = document.getElementById('notification');
      const notificationTitle = document.getElementById('notification-title');
      const notificationMessage = document.getElementById('notification-message');
      const notificationIcon = document.getElementById('notification-icon');
      const notificationIconClass = notificationIcon.querySelector('i');
      
      // 设置通知内容
      notificationTitle.textContent = title;
      notificationMessage.textContent = message;
      
      // 设置通知类型
      notificationIconClass.className = '';
      notificationIcon.className = 'w-8 h-8 rounded-full flex items-center justify-center';
      
      if (type === 'success') {
        notificationIcon.classList.add('bg-secondary/10');
        notificationIconClass.classList.add('fa', 'fa-check', 'text-secondary');
      } else if (type === 'error') {
        notificationIcon.classList.add('bg-red-100');
        notificationIconClass.classList.add('fa', 'fa-exclamation-circle', 'text-red-500');
      } else {
        notificationIcon.classList.add('bg-primary/10');
        notificationIconClass.classList.add('fa', 'fa-info', 'text-primary');
      }
      
      // 显示通知
      notification.classList.remove('translate-y-20', 'opacity-0');
      
      // 自动关闭
      const notificationTimeout = setTimeout(() => {
        closeNotification();
      }, 5000);
      
      // 点击关闭
      document.getElementById('close-notification').addEventListener('click', () => {
        clearTimeout(notificationTimeout);
        closeNotification();
      });
    }
    
    function closeNotification() {
      const notification = document.getElementById('notification');
      notification.classList.add('translate-y-20', 'opacity-0');
    }
  </script>
</body>
</html>